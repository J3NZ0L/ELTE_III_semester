<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="hu" lang="hu">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="css/scormelte_alap.css" rel="stylesheet" type="text/css" title="" />
<link href="css/style_spec.css" rel="stylesheet" type="text/css" />
<link href="css/scormelte_nagy.css" rel="alternate stylesheet" type="text/css" title="nagy" />
<link href="css/scormelte_inverz.css" rel="alternate stylesheet" type="text/css" title="inverz" />
<!--[if lte IE 6]>
<link href="css/scormelte_ie6.css" rel="stylesheet" type="text/css" title="" />
<![endif]-->
<!-- syntax highlight -->
<link rel="stylesheet" type="text/css" href="css/shCore.css" />
<link rel="stylesheet" type="text/css" href="css/shThemeDefault.css" />
<script type="text/javascript" src="js/shCore.js"></script>
<script type="text/javascript" src="js/shBrushCpp.js"></script>
<script type="text/javascript" src="js/shBrushCSharp.js"></script>
<script type="text/javascript" src="js/shBrushDelphi.js"></script>
<script type="text/javascript" src="js/shBrushXml.js"></script>
<script type="text/javascript" src="js/shBrushCss.js"></script>
<script type="text/javascript" src="js/shBrushJScript.js"></script>
<script type="text/javascript" src="js/shBrushSql.js"></script>
<script type="text/javascript">
SyntaxHighlighter.all()
</script>
<title>
Számítógépes alapismeretek II. / 
A rendszerhívások és a fájlrendszerek fogalma, szerepe, ezek jellemzői
/ A Unix operációs rendszer kernelének rendszerhívásai</title>
<meta name="description" content="A tananyag  fejlesztése a TÁMOP-4.1.2.A/2-10/1 pályázat keretén belül történt." />
<meta name="keywords" content="Hardver alapismeretek, operációs rendszer, számítógépes alapismeretek, operációs rendszer fogalma, operációs rendszerek története, operációs rendszer feladata, operációs rendszer generációk, operációs rendszer típusok, folyamatok, folyamat táblázat, szál &ndash; folyamatok, rendszerhívások, operációs rendszer struktúrák, kernelmód, kernel, felhasználói mód, B/K művelet, folyamatok modellje, szinkron rendszerhívás, asszinkron rendszerhívás, állapotai, megvalósításuk, folyamatok kommunikációja, IPC (Inter Process Communication), megszakítástábla, IDT, megszakításvezérlő, PIC, megszakítás, interrupt, megszakításkérelem, IRQ, megszakításkezelési folyamat, kivétel, hibakeresés (debuggolás), töréspont, fájlrendszer, MBR, partíciós szektor, Ntldr, klaszter (cluster), szektor, FAT, NTFS, ext, TSS, csapda, ütemezés, szál, szemafor, mutex, monitor, POSIX, szignál, osztott memória, csővezeték, kritikus szakasz, Wybe Dijkstra, CPU, erőforrás, holtpont, kiéheztetés, integrált áramkör, multiprogramozás, beágyazott rendszerek, partíció, MMU, lapcsere, FIFO, socket, lapozás, swap, interaktív rendszer, kötegelt rendszer, kliens, job, jogosultság, metaadat, könyvtár, UNIX, GNU/LINUX, erőforrás-foglalási gráf, fizikai memória, virtuális memória, merevlemez, floppy, fregmentáció, defregmentáló program, MFT, API, i-node, cache memory, SSH, HyperThread, párhuzamosság" />
<script type="text/javascript" src="js/jquery-1.3.2.min.js"></script>
<script type="text/javascript" src="js/kep.js"></script>
<script type="text/javascript" src="js/jquery.media.js"></script>
<script type="text/javascript" src="js/jquery.highlight-3.js"></script>
<script type="text/javascript" src="js/kereses.js"></script>
<script type="text/javascript" src="js/stylesheetToggle.js"></script>
<script type="text/javascript" src="js/cookie.js"></script>
<script type="text/javascript" src="js/stilusvalto.js"></script>
<script type="text/javascript" src="js/fogalmak.js"></script>
<script type="text/javascript" src="js/fogalom.js"></script>
<script type="text/javascript" src="js/jwplayer.js"></script>
<script type="text/javascript">
$(document).ready(function() 
{
$("a.hang").media( {width: 250, height: 50,  autoplay: false} );
});
</script>
<script type="text/javascript" src="js/navigacio.js"></script>
</head>
<body>
<div><a name="teteje"  id="teteje"></a></div>
<div class="jawsfmenu">
  <ul>
    <li><a class="tartalom" href="#tartalom" accesskey="t" tabindex="2">Ugrás a <span class="gyorsb">t</span>artalomra</a></li>
    <li><a class="tartalomj" href="#fejezetek" accesskey="j" tabindex="5">Ugrás a tartalom<span class="gyorsb">j</span>egyzékre</a></li>
    <li><a class="tanutm" href="#tanutm" accesskey="u" tabindex="7">Ugrás a tan<span class="gyorsb">u</span>lási útmutatóra</a></li>
  </ul>
</div>
<div class="ki_kereses"></div>
<div class="oldal">
  <div class="utmutato">
    <div class="utm_hivatkozasok"><span class="elozolap"><img src="navi/ikon_vissza_dis.gif" alt="Vissza az előzőleg látogatott oldalra (nem elérhető funkció)" title="Vissza az előzőleg látogatott oldalra (nem elérhető funkció)" /></span><a class="kezdolap" href="index.html" accesskey="p" tabindex="21"><img src="navi/ikon_kezdolap.gif" alt="Vissza a modul kezdőlapjára" title="Vissza a modul kezdőlapjára" width="36" height="36"/></a><a class="elozotanlap" href="lecke2_lap1.html" accesskey="e" tabindex="22"><img src="navi/ikon_elozolap.gif" alt="Ugrás a tananyag előző oldalára" title="Ugrás a tananyag előző oldalára" width="36" height="36" /></a><a class="kovetktanlap" href="lecke2_lap3.html" accesskey="v" tabindex="23"><img src="navi/ikon_kovetklap.gif" alt="Ugrás a tananyag következő oldalára" title="Ugrás a tananyag következő oldalára" width="36" height="36"/></a><span class="ki_fogalomkapcs"><img src="navi/ikon_fogalmakbe_dis.gif" alt="Fogalom megjelenítés (nem elérhető funckió)" title="Fogalom megjelenítés (nem elérhető funckió)" /></span><span class="ki_fogalomlista"><img src="navi/ikon_fogalmaklista_dis.gif" alt="Fogalmak listája (nem elérhető funkció)" title="Fogalmak listája (nem elérhető funkció)" /></span><span class="ki_nyomtatas"><img src="navi/ikon_nyomtatas_dis.gif" alt="Oldal nyomtatása (nem elérhető funkció)" title="Oldal nyomtatása (nem elérhető funkció)" /></span><a class="oldalterkep" href="oldalterkep.html" accesskey="d" tabindex="31"><img src="navi/ikon_oldalterkep.gif" alt="Oldaltérkép megtekintése" title="Oldaltérkép megtekintése"  width="36" height="36" /></a><a class="sugo" href="sugo.html" accesskey="s" tabindex="33"><img src="navi/ikon_sugo.gif" alt="Súgó megtekintése" title="Súgó megtekintése"  width="36" height="36" /></a></div>
  </div>
  <div class="tartalommenu">
    <div class="tartalommenu_fejlec"><span id="lapteteje"><a  href="#teteje"><span class="gyorsb">F</span>el a lap tetejére</a></span><a name="fejezetek"   id="fejezetek">Tartalomjegyzék</a></div>
    <ul><li><a href="#hiv1">A rendszerhívások és a fájlrendszerek fogalma, szerepe, ezek jellemzői </a><ul><li><a href="#hiv2"> A Unix operációs rendszer kernelének rendszerhívásai</a><ul><li><a href="#hiv3">A legfontosabb rendszerhívási rutinok a Unix operációs rendszerben</a></li><li><a href="#hiv4">A kernelbe való belépés eseményei </a></li><li><a href="#hiv5">A kernelből való visszatérés eseményei </a></li><li><a href="#hiv6">A legfontosabb rendszerhívási csoportok</a></li></ul></li></ul></li></ul> 
  </div>
  <div class="tartalom"> <a name="tartalom"    id="tartalom"></a> 
    <h1><a name="hiv1" id="hiv1"></a>A rendszerhívások és a fájlrendszerek fogalma, szerepe, ezek jellemzői </h1><h2><a name="hiv2" id="hiv2"></a> A Unix operációs rendszer kernelének rendszerhívásai</h2><p>A <span class="fogalom" title="UNIX">UNIX</span> <span class="fogalom" title="operációs rendszer">operációs rendszer</span> kernelszolgáltatásait, az adott kernelverziótól függően, körülbelül száz darab körüli <span class="fogalom" title="rendszerhívás">rendszerhívásra</span> alapozzák. Más <span class="fogalom" title="operációs rendszer">operációs rendszerek</span> pedig még bonyolultabb, alacsony szintű rendszerprogramozói interfésszel kiépítettek. Felmerülhet a kérdés ekkor az olvasóban: ha a <span class="fogalom" title="UNIX">UNIX</span> <span class="fogalom" title="operációs rendszer">operációs rendszert</span> a <span class="fogalom" title="rendszerhívás">rendszerhívások</span> csak egy szűk skálája jellemzi (hiszen a százas nagyságrend elég szűkösnek mondható), hogyan tudott mégis annyira maradandót alkotni és olyan hosszú pályát befutni az <span class="fogalom" title="operációs rendszer">operációs rendszerek</span> történelmében?</p><p>A kérdés magyarázata megválaszolható azzal, hogy egyrészt a <span class="fogalom" title="rendszerhívás">rendszerhívások</span> szűk skálája egy rendkívül pontos és jól kiválasztott rendszerhíváshalmaz, másrészt ezt a halmazt a különböző programozási nyelvi <span class="fogalom" title="könyvtár">könyvtárak</span> (leginkább a C programozási nyelv <span class="fogalom" title="könyvtár">könyvtárai</span>) jelentős mértékben szélesítik összetettebb rutinhívások lehetőségével. Természetesen a C programozási nyelv <span class="fogalom" title="könyvtár">könyvtárai</span> más <span class="fogalom" title="operációs rendszer">operációs rendszerekben</span> is megtalálhatók, viszont a jól meghatározott rendszerhíváshalmaz egy nagyon erős pontja a <span class="fogalom" title="UNIX">UNIX</span> <span class="fogalom" title="operációs rendszer">operációs rendszernek</span>.</p><p>A <span class="fogalom" title="UNIX">UNIX</span> <span class="fogalom" title="operációs rendszer">operációs rendszerben</span> egyáltalán nem mindegy, hogy a hatékony programok írásához milyen <span class="fogalom" title="rendszerhívás">rendszerhívásokat</span> használunk. Ha a programkód megírásához több egyszerűbb, azaz primitív funkciót használunk, akkor a programkód mérete ettől jelentősen megnövekszik, ellenben a futtatható program sokkal gyorsabban fut. Viszont a sok egyszerűbb, azaz primitív funkció használata a programunkat meglehetősen &#132;erőszakossá&#148; teszi, és emiatt más-más folyamatoktól rabolja el a rendelkezésre álló <span class="fogalom" title="CPU">CPU</span> -időt (azaz a processzoridőt) és az egyéb ettől függetlenül rendelkezésre álló <span class="fogalom" title="erőforrás">erőforrásokat</span>. A <span class="fogalom" title="UNIX">UNIX</span> <span class="fogalom" title="operációs rendszer">operációs rendszer</span> automatikus prioritásválasztási mechanizmusainak kiismerésével ezt még fokozhatjuk.</p><p>A <span class="fogalom" title="UNIX">UNIX</span> <span class="fogalom" title="operációs rendszer">operációs rendszer</span> <span class="fogalom" title="rendszerhívás">rendszerhívásait</span> eredetileg assembly szinten is lehetett használni, ám manapság már a <span class="fogalom" title="UNIX">UNIX</span> kimondottan a C programozási nyelvű interfészéről ismert (SVID &ndash; System V Interface Definition, amelyet a Bell Laboratórium tart karban). A <span class="fogalom" title="rendszerhívás">rendszerhívásokhoz</span> a programozónak azt sem kell így ismernie, hogy például az adott hardveren pontosan melyik a szoftvermegszakító utasítás, elegendő, ha eligazodik a C programozási nyelv megfelelő könyvtárszolgáltatásaiban. Ez rendkívül kényelmes a programozó számára. A <span class="fogalom" title="rendszerhívás">rendszerhívásokat</span> kimondottan a magas szintű programozási nyelvekben szokásos paraméterezésű szubrutinhívások mintájára kell kódolni. </p><p>Tehát kijelenthető, hogy a <span class="fogalom" title="UNIX">UNIX</span> <span class="fogalom" title="operációs rendszer">operációs rendszer</span> <span class="fogalom" title="rendszerhívás">rendszerhívásait</span> a magas szintű programozási nyelvekre optimalizálták. Ez manapság a jellegzetes fejlődési irányzat. A <span class="fogalom" title="UNIX">UNIX</span> operációs környezet célja a programkód-szállíthatóságot (portabilitást) biztosító magas szintű programozási nyelvek minél hatékonyabb támogatása. Ez azért cél, mert a szállíthatóságot megvalósító programkódok írásával úgynevezett programozói munkamegtakarítás érhető el amellett, hogy a magas szintű programozási nyelven írt programok gyorsasági hatásfoka is eléggé jó maradhat. Most nézzük meg &ndash; részletesebb magyarázat nélkül &ndash; a legfontosabb <span class="fogalom" title="rendszerhívás">rendszerhívási</span> rutinokat a <span class="fogalom" title="UNIX">UNIX</span> <span class="fogalom" title="operációs rendszer">operációs rendszerben</span>!</p><h3><a name="hiv3" id="hiv3"></a>A legfontosabb rendszerhívási rutinok a Unix operációs rendszerben</h3><table class="lecke">
<tr><th><p>Megnevezés</p></th><th><p>Folyamat/Primitív</p></th><th><p>Magyarázat</p></th></tr><tr><td><p>ABORT</p></td><td><p>Folyamat</p></td><td><p>A folyamat leállítása tárkivonattal.</p></td></tr><tr><td><p>ACCESS</p></td><td><p>Folyamat</p></td><td><p>Állomány-hozzáférési jog lekérdezése.</p></td></tr><tr><td><p>ACCT</p></td><td><p>Folyamat</p></td><td><p>A számlázás vezérlése.</p></td></tr><tr><td><p>ALARM</p></td><td><p>Folyamat</p></td><td><p>Ébresztőóra-szolgáltatás kérése.</p></td></tr><tr><td><p>CHDIR</p></td><td><p>Folyamat</p></td><td><p>Munkakatalógus kijelölése.</p></td></tr><tr><td><p>CHMOD</p></td><td><p>Folyamat</p></td><td><p>Állományvédelmi mód beállítása.</p></td></tr><tr><td><p>CHOWN</p></td><td><p>Folyamat</p></td><td><p>Állomány tulajdonosának módosítása.</p></td></tr><tr><td><p>CLOSE</p></td><td><p>Folyamat</p></td><td><p>Állomány lezárása.</p></td></tr><tr><td><p>CREAT</p></td><td><p>Folyamat</p></td><td><p>Állomány-létrehozás és -nyitás kimenetre.</p></td></tr><tr><td><p>DUP</p></td><td><p>Primitív</p></td><td><p>Állománynyitás duplikálása.</p></td></tr><tr><td><p>EXEC</p></td><td><p>Folyamat</p></td><td><p>Új program indítása.</p></td></tr><tr><td><p>EXIT</p></td><td><p>Primitív</p></td><td><p>Folyamat leállítása és eredménykód.</p></td></tr><tr><td><p>FCLOSE</p></td><td><p>Folyamat</p></td><td><p>Pufferelt állomány lezárása.</p></td></tr><tr><td><p>FCNTL</p></td><td><p>Primitív</p></td><td><p>Manipulációk nyitott állományokkal.</p></td></tr><tr><td><p>FOPEN</p></td><td><p>Folyamat</p></td><td><p>Pufferelt állomány nyitása.</p></td></tr><tr><td><p>FORK</p></td><td><p>Folyamat</p></td><td><p>Gyermekfolyamat szülése (leágazás).</p></td></tr><tr><td><p>FSEEK</p></td><td><p>Folyamat</p></td><td><p>Pufferelt állomány pozicionálása.</p></td></tr><tr><td><p>GETCHAR</p></td><td><p>Folyamat</p></td><td><p>Egy karakter olvasása.</p></td></tr><tr><td><p>GETCWD</p></td><td><p>Primitív</p></td><td><p>Aktuális munkakatalógus lekérdezése.</p></td></tr><tr><td><p>GETENV</p></td><td><p>Primitív</p></td><td><p>Környezetleírás lekérdezése.</p></td></tr><tr><td><p>GETLOGIN</p></td><td><p>Primitív</p></td><td><p>Bejelentkezési név lekérdezése.</p></td></tr><tr><td><p>GETPASS</p></td><td><p>Folyamat</p></td><td><p>Jelszó bekérése.</p></td></tr><tr><td><p>GETPID</p></td><td><p>Primitív</p></td><td><p>Folyamatazonosító lekérdezése.</p></td></tr><tr><td><p>GETPW</p></td><td><p>Folyamat</p></td><td><p>Egy felhasználó jelszavának bekérése.</p></td></tr><tr><td><p>GETUID</p></td><td><p>Primitív</p></td><td><p>Felhasználói azonosító lekérdezése.</p></td></tr><tr><td><p>IOCNTL</p></td><td><p>Folyamat</p></td><td><p>Perifériák fizikai vezérlése.</p></td></tr><tr><td><p>KILL</p></td><td><p>Folyamat</p></td><td><p>Jelzés küldése egy folyamatnak.</p></td></tr><tr><td><p>LINK</p></td><td><p>Folyamat</p></td><td><p>Új név kapcsolása létező állományhoz.</p></td></tr><tr><td><p>LOCKF</p></td><td><p>Folyamat</p></td><td><p>Állományterület- és rekordzárolás.</p></td></tr><tr><td><p>LSEEK</p></td><td><p>Folyamat</p></td><td><p>Megnyitott állomány pozicionálása.</p></td></tr><tr><td><p>MKNOD</p></td><td><p>Folyamat</p></td><td><p>Speciális állományleírás készítése.</p></td></tr><tr><td><p>MKTEMP</p></td><td><p>Primitív</p></td><td><p>Egyedi állománynév generálása ID-ből.</p></td></tr><tr><td><p>MONITOR</p></td><td><p>Folyamat</p></td><td><p>Programbelövés inicializálása.</p></td></tr><tr><td><p>MOUNT</p></td><td><p>Folyamat</p></td><td><p>Állományrendszer megnyitása.</p></td></tr><tr><td><p>NICE</p></td><td><p>Primitív</p></td><td><p>Folyamat prioritásának módosítása.</p></td></tr><tr><td><p>OPEN</p></td><td><p>Folyamat</p></td><td><p>Állomány megnyitása.</p></td></tr><tr><td><p>PAUSE</p></td><td><p>Primitív</p></td><td><p>Várakozás kezdeményezése.</p></td></tr><tr><td><p>PERROR</p></td><td><p>Primitív</p></td><td><p>Az utolsó hibaüzenet dekódolása.</p></td></tr><tr><td><p>PIPE</p></td><td><p>Folyamat</p></td><td><p>Szülő-gyermek kapcsolat létesítése.</p></td></tr><tr><td><p>PRINTF</p></td><td><p>Folyamat</p></td><td><p>Formázott kivitel szabvány kimenetre.</p></td></tr><tr><td><p>PROFILE</p></td><td><p>Folyamat</p></td><td><p>Dinamikus nyomkövetési eszköz.</p></td></tr><tr><td><p>PTRACE</p></td><td><p>Folyamat</p></td><td><p>Folyamat-végrehajtás nyomkövetése.</p></td></tr><tr><td><p>PUTCHAR</p></td><td><p>Folyamat</p></td><td><p>Egyetlen karakter kivitele.</p></td></tr><tr><td><p>READ</p></td><td><p>Folyamat</p></td><td><p>Adatblokk beolvasása pufferbe.</p></td></tr><tr><td><p>SBRK</p></td><td><p>Folyamat</p></td><td><p>Tárigény bejelentése.</p></td></tr><tr><td><p>SCANF</p></td><td><p>Folyamat</p></td><td><p>Formázott bevitel szabvány bemenetről.</p></td></tr><tr><td><p>SETUID</p></td><td><p>Primitív</p></td><td><p>Tényleges felhasználó megadása.</p></td></tr><tr><td><p>SIGNAL</p></td><td><p>Primitív</p></td><td><p>Jelzések kezelésének megadása.</p></td></tr><tr><td><p>SLEEP</p></td><td><p>Folyamat</p></td><td><p>Várakozás adott ideig.</p></td></tr><tr><td><p>STAT</p></td><td><p>Folyamat</p></td><td><p>Állományjellemzők lekérdezése.</p></td></tr><tr><td><p>STIME</p></td><td><p>Folyamat</p></td><td><p>Órabeállítás.</p></td></tr><tr><td><p>SYNC</p></td><td><p>Folyamat</p></td><td><p>Módosított pufferek lemezre írása.</p></td></tr><tr><td><p>SYSTEM</p></td><td><p>Folyamat</p></td><td><p>Shell parancs végrehajtatása.</p></td></tr><tr><td><p>TIME</p></td><td><p>Primitív</p></td><td><p>Dátum, időzóna és időpont lekérdezése.</p></td></tr><tr><td><p>TIMES</p></td><td><p>Primitív</p></td><td><p>Szülő- és gyermekfolyamatok időfelhasználása.</p></td></tr><tr><td><p>UMOUNT</p></td><td><p>Folyamat</p></td><td><p>Állományrendszer lezárása.</p></td></tr><tr><td><p>UNLINK</p></td><td><p>Folyamat</p></td><td><p>Katalógustétel törlése.</p></td></tr><tr><td><p>USTAT</p></td><td><p>Folyamat</p></td><td><p>Állományrendszer állapotának lekérdezése.</p></td></tr><tr><td><p>UTIME</p></td><td><p>Folyamat</p></td><td><p>Állomány időadatainak módosítása.</p></td></tr><tr><td><p>WAIT</p></td><td><p>Folyamat</p></td><td><p>Várakozás a gyermekfolymat(ok) befejeződéséig.</p></td></tr><tr><td><p>WRITE</p></td><td><p>Folyamat</p></td><td><p>Adatblokk kiírása pufferből.</p></td></tr></table><p class="vissza"><a href="#fejezetek">Vissza a tartalom<span class="gyorsb">j</span>egyzékhez</a></p><h3><a name="hiv4" id="hiv4"></a>A kernelbe való belépés eseményei </h3><p>A <span class="fogalom" title="UNIX">UNIX</span> és a <span class="fogalom" title="UNIX">UNIX</span> -szerű <span class="fogalom" title="operációs rendszer">operációs rendszerek</span> (így a <span class="fogalom" title="GNU/LINUX">GNU/LINUX</span> <span class="fogalom" title="operációs rendszer">operációs rendszer</span>) <span class="fogalom" title="kernel">kernelbe</span> való belépésének eseményei:</p><ul><li>Első lépésben az <span class="fogalom" title="operációs rendszer">operációs rendszer</span> átkapcsol kernelmódba. A memória elérése ezt követően <span class="fogalom" title="kernel">kernel</span> privilégiummal történik, a veremmutató (stack pointer) átáll a kernelszintű veremre, és ezt követően minden kiváltságos instrukció végrehajtása engedélyezett lesz. </li><li>A PC és a PSW regiszterek (azaz a programszámláló és a programállapot-szó regiszterek) a folyamat kernelszintű vermébe kerül.</li><li>Ezt követően a <span class="fogalom" title="rendszerhívás">rendszerhívás</span> vagy a <span class="fogalom" title="megszakítás">megszakítás</span> kódja (azaz a system call száma vagy a signal kódja) is bekerül a verembe. </li><li>Egy assembly rutin ekkor menti az általános célú regiszterek tartalmát is. Ezek után már a magas szintű programozási nyelven írt eljárások is meghívhatók. A C programozási nyelvben írt rutin meghívódik, a belépés fajtájától függően. <ul><li><span class="fogalom" title="rendszerhívás">Rendszerhívás</span> esetén a syscall függvény hívódik meg. Ez egy diszpécserfolyamat, amely elosztja a vezérlést. </li><li>Kivételes esemény esetén a trap függvény hívódik meg, amelyik szintén elosztja a vezérlést, a programkódtól függően. </li><li><span class="fogalom" title="megszakítás">Megszakítás</span> esetén a megfelelő eszközkezelő program hívódik meg.</li></ul></li></ul><p>A diszpécser feladatait a következők: </p><ul><li>Megvizsgálja a <span class="fogalom" title="rendszerhívás">rendszerhívás</span> paramétereinek számát, majd ellenőrzi a paramétereket, hogy vajon a felhasználói program megfelelő memóriacím-tartományában vannak-e, majd bemásolja azokat a <span class="fogalom" title="kernel">kernel</span> memóriacím-tartományába. Ez leginkább azért fontos, hogy semmiképp ne rontsa el a folyamat felhasználói memóriaterületét. </li><li>Felkészül arra, hogy <span class="fogalom" title="megszakítás">megszakítással</span> (interrupt, trap) megszakíthatják. </li><li>Meghívja a megfelelő eljárást. </li></ul><p class="vissza"><a href="#fejezetek">Vissza a tartalom<span class="gyorsb">j</span>egyzékhez</a></p><h3><a name="hiv5" id="hiv5"></a>A kernelből való visszatérés eseményei </h3><ul><li>A <span class="fogalom" title="kernel">kernelből</span> való visszatérés eredménye a megfelelő szolgáltatásból teljes mértékben függ a belépéstől. </li><li>A klasszikus <span class="fogalom" title="rendszerhívás">rendszerhívási</span> szolgáltatásból először a diszpécserhez tér vissza a vezérlés, méghozzá azzal a jelzéssel, hogy a szolgáltatás sikeres volt, vagy nem. </li><li>Mielőtt a diszpécser a hívó programjának adná az eredményt, megvizsgálódik, kapott-e a folyamat eközben valamilyen <span class="fogalom" title="szignál">szignált</span>. Ha igen, akkor a szignálkezelő kezd el működésbe lépni, ám legvégül a vezérlés mindenképp visszatér a diszpécserhez. </li><li>Miután visszatért a vezérlés a diszpécserhez, az esetleges hibás szolgáltatás hibakódját az errno globális változóba írja, majd egy assembly rutin visszaírja az általános regiszterek tartalmát.</li><li>A visszatérési értéket hordozó regiszter a szolgáltatási hiba esetén -1 értéket kap, különben 0-t, vagyis a hívó program a <span class="fogalom" title="rendszerhívás">rendszerhívás</span> visszatérési értékeként csak jelzést kap, hogy volt-e hiba, vagy sem. A hiba jellegére csak az errno hibaérték vizsgálatával következtethet! </li><li>Ezután végrehajtódik egy visszatérés a <span class="fogalom" title="megszakítás">Megszakításból</span> instrukció. Ez visszaállítja a PC és PSW regiszterek (azaz a programszámláló és a programállapot-szó regiszterek) tartalmát, és visszaállítja az <span class="fogalom" title="operációs rendszer">operációs rendszer</span> állapotát a felhasználói módra. Ugyanezzel visszaáll az SP (a veremmutató &ndash; stack pointer) is, és a folyamat felhasználói szintű vermére fog mutatni. Ezt követően folytatódik a folyamat felhasználói módú futása. </li></ul><p class="vissza"><a href="#fejezetek">Vissza a tartalom<span class="gyorsb">j</span>egyzékhez</a></p><h3><a name="hiv6" id="hiv6"></a>A legfontosabb rendszerhívási csoportok</h3><p>A legfontosabb <span class="fogalom" title="rendszerhívás">rendszerhívási</span> csoportok a következők:</p><ul><li>a folyamatokat kezelő <span class="fogalom" title="rendszerhívás">rendszerhívások</span>,</li><li>a jelek és a <span class="fogalom" title="szignál">szignálok</span> kezelését végző szolgáltatások,</li><li>a könyvtárkezelési és a fájlkezelési műveletek, </li><li>a biztonsági (védelmi) szolgáltatások nyújtásának műveletei,</li><li>az időkezelési <span class="fogalom" title="rendszerhívás">rendszerhívások</span>.</li></ul><p class="vissza"><a href="#fejezetek">Vissza a tartalom<span class="gyorsb">j</span>egyzékhez</a></p> 
  </div>
</div>
<div class="utmutato_also">
  <div class="utm_hivatkozasok_also"><a class="oldalteteje" accesskey="f" href="#teteje"><span class="gyorsb">F</span>el a lap tetejére</a>
  <a class="elozotanlap" id="navialsoelozo" href="lecke2_lap1.html"><img src="navi/ikon_elozolap.gif" alt="Ugrás a tananyag előző oldalára" title="Ugrás a tananyag előző oldalára" width="36" height="36" /></a>
  <a id='navialsokov' class="kovetktanlap" href="lecke2_lap3.html" ><img src="navi/ikon_kovetklap.gif" alt="Ugrás a tananyag következő oldalára" title="Ugrás a tananyag következő oldalára" width="36" height="36"/></a>
  </div>
</div>
<div class="ki_stilus"></div>
<div class="impresszum">
  <table class="uszt">
    <tr>
      <td><div class="imp_eltetatklogo"><img alt="ELTE és ELTE TáTK logó" src="css/arculat/elte_plus_tatk.png" style="width:100%;height:auto;" /></div>
        <div class="imp_elteiklogo"><img alt="ELTE és ELTE IK logó" src="css/arculat/elte_plus_ik.png" style="width:100%;height:auto;" /></div></td>
      <td><div class="imp_uszt"><img alt="Új Széchenyi terv" src="css/arculat/USZT_logo_cmyk.jpg" style="width:100%;height:auto;" /></div></td>
      <td><div class="imp_eu"><img alt="A projekt az Európai Unió támogatásával, az Európai Szociális Alap társfinanszirozásával valósul meg." title="A projekt az Európai Unió támogatásával, az Európai Szociális Alap társfinanszirozásával valósul meg." src="css/arculat/ESZA.png" style="width:100%;height:auto;"/></div></td>
    </tr>
  </table>
</div>
</body>
</html>