<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="hu" lang="hu">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="css/scormelte_alap.css" rel="stylesheet" type="text/css" title="" />
<link href="css/style_spec.css" rel="stylesheet" type="text/css" />
<link href="css/scormelte_nagy.css" rel="alternate stylesheet" type="text/css" title="nagy" />
<link href="css/scormelte_inverz.css" rel="alternate stylesheet" type="text/css" title="inverz" />
<!--[if lte IE 6]>
<link href="css/scormelte_ie6.css" rel="stylesheet" type="text/css" title="" />
<![endif]-->
<!-- syntax highlight -->
<link rel="stylesheet" type="text/css" href="css/shCore.css" />
<link rel="stylesheet" type="text/css" href="css/shThemeDefault.css" />
<script type="text/javascript" src="js/shCore.js"></script>
<script type="text/javascript" src="js/shBrushCpp.js"></script>
<script type="text/javascript" src="js/shBrushCSharp.js"></script>
<script type="text/javascript" src="js/shBrushDelphi.js"></script>
<script type="text/javascript" src="js/shBrushXml.js"></script>
<script type="text/javascript" src="js/shBrushCss.js"></script>
<script type="text/javascript" src="js/shBrushJScript.js"></script>
<script type="text/javascript" src="js/shBrushSql.js"></script>
<script type="text/javascript">
SyntaxHighlighter.all()
</script>
<title>
Számítógépes alapismeretek II.</title>
<meta name="description" content="A tananyag  fejlesztése a TÁMOP-4.1.2.A/2-10/1 pályázat keretén belül történt." />
<meta name="keywords" content="Hardver alapismeretek, operációs rendszer, számítógépes alapismeretek, operációs rendszer fogalma, operációs rendszerek története, operációs rendszer feladata, operációs rendszer generációk, operációs rendszer típusok, folyamatok, folyamat táblázat, szál &ndash; folyamatok, rendszerhívások, operációs rendszer struktúrák, kernelmód, kernel, felhasználói mód, B/K művelet, folyamatok modellje, szinkron rendszerhívás, asszinkron rendszerhívás, állapotai, megvalósításuk, folyamatok kommunikációja, IPC (Inter Process Communication), megszakítástábla, IDT, megszakításvezérlő, PIC, megszakítás, interrupt, megszakításkérelem, IRQ, megszakításkezelési folyamat, kivétel, hibakeresés (debuggolás), töréspont, fájlrendszer, MBR, partíciós szektor, Ntldr, klaszter (cluster), szektor, FAT, NTFS, ext, TSS, csapda, ütemezés, szál, szemafor, mutex, monitor, POSIX, szignál, osztott memória, csővezeték, kritikus szakasz, Wybe Dijkstra, CPU, erőforrás, holtpont, kiéheztetés, integrált áramkör, multiprogramozás, beágyazott rendszerek, partíció, MMU, lapcsere, FIFO, socket, lapozás, swap, interaktív rendszer, kötegelt rendszer, kliens, job, jogosultság, metaadat, könyvtár, UNIX, GNU/LINUX, erőforrás-foglalási gráf, fizikai memória, virtuális memória, merevlemez, floppy, fregmentáció, defregmentáló program, MFT, API, i-node, cache memory, SSH, HyperThread, párhuzamosság" />
<script type="text/javascript" src="js/jquery-1.3.2.min.js"></script>
<script type="text/javascript" src="js/kep.js"></script>
<script type="text/javascript" src="js/jquery.media.js"></script>
<script type="text/javascript" src="js/jquery.highlight-3.js"></script>
<script type="text/javascript" src="js/kereses.js"></script>
<script type="text/javascript" src="js/stylesheetToggle.js"></script>
<script type="text/javascript" src="js/cookie.js"></script>
<script type="text/javascript" src="js/stilusvalto.js"></script>
<script type="text/javascript" src="js/fogalmak.js"></script>
<script type="text/javascript" src="js/fogalom.js"></script>
<script type="text/javascript" src="js/jwplayer.js"></script>
<script type="text/javascript">
$(document).ready(function() 
{
$("a.hang").media( {width: 250, height: 50,  autoplay: false} );
});
</script>
<script type="text/javascript" src="js/navigacio.js"></script>
</head>
<body>
<div><a name="teteje"  id="teteje"></a></div>
<div class="jawsfmenu">
  <ul>
    <li><a class="tartalom" href="#tartalom" accesskey="t" tabindex="2">Ugrás a <span class="gyorsb">t</span>artalomra</a></li>
    <li><a class="tartalomj" href="#fejezetek" accesskey="j" tabindex="5">Ugrás a tartalom<span class="gyorsb">j</span>egyzékre</a></li>
    <li><a class="tanutm" href="#tanutm" accesskey="u" tabindex="7">Ugrás a tan<span class="gyorsb">u</span>lási útmutatóra</a></li>
  </ul>
</div>
<div class="ki_kereses"></div>
<div class="oldal">
  <div class="utmutato">
    <div class="utm_hivatkozasok"><span class="elozolap"><img src="navi/ikon_vissza_dis.gif" alt="Vissza az előzőleg látogatott oldalra (nem elérhető funkció)" title="Vissza az előzőleg látogatott oldalra (nem elérhető funkció)" /></span><a class="kezdolap" href="index.html" accesskey="p" tabindex="21"><img src="navi/ikon_kezdolap.gif" alt="Vissza a modul kezdőlapjára" title="Vissza a modul kezdőlapjára" width="36" height="36"/></a><a class="elozotanlap" href="teszt/lecke7/teszt.html" accesskey="e" tabindex="22"><img src="navi/ikon_elozolap.gif" alt="Ugrás a tananyag előző oldalára" title="Ugrás a tananyag előző oldalára" width="36" height="36" /></a><a class="kovetktanlap" href="lecke8_lap2.html" accesskey="v" tabindex="23"><img src="navi/ikon_kovetklap.gif" alt="Ugrás a tananyag következő oldalára" title="Ugrás a tananyag következő oldalára" width="36" height="36"/></a><span class="ki_fogalomkapcs"><img src="navi/ikon_fogalmakbe_dis.gif" alt="Fogalom megjelenítés (nem elérhető funckió)" title="Fogalom megjelenítés (nem elérhető funckió)" /></span><span class="ki_fogalomlista"><img src="navi/ikon_fogalmaklista_dis.gif" alt="Fogalmak listája (nem elérhető funkció)" title="Fogalmak listája (nem elérhető funkció)" /></span><span class="ki_nyomtatas"><img src="navi/ikon_nyomtatas_dis.gif" alt="Oldal nyomtatása (nem elérhető funkció)" title="Oldal nyomtatása (nem elérhető funkció)" /></span><a class="oldalterkep" href="oldalterkep.html" accesskey="d" tabindex="31"><img src="navi/ikon_oldalterkep.gif" alt="Oldaltérkép megtekintése" title="Oldaltérkép megtekintése"  width="36" height="36" /></a><a class="sugo" href="sugo.html" accesskey="s" tabindex="33"><img src="navi/ikon_sugo.gif" alt="Súgó megtekintése" title="Súgó megtekintése"  width="36" height="36" /></a></div>
    <h1 class="utmutato"><a name="tanutm"  id="tanutm"></a>Tanulási útmutató</h1>
    <div class="osszefoglalas">
      <h2>Összefoglalás </h2>
      <!--{fej8_video_1}--><div class="video"> <div class="felirat">Összefoglaló (8.fejezet) című videó megtekintése,letöltése</div><div class="jaws"><ul><li><a href="#tartalmi_1"> Ugrás a videó tartalmi összefoglalójára. A videó címe: Összefoglaló (8.fejezet).</a></li><li><a href="#teljesszov_1">Ugrás a videó teljes szövegű leírására. A videó címe: Összefoglaló (8.fejezet).</a></li><li><a href="#video_1">Ugrás a videó kisebb felbontású változatának letöltéséhez. A videó címe: Összefoglaló (8.fejezet).</a></li><li><a href="#video_2">Ugrás a videó nagy felbontású változatának letöltéséhez. A videó címe: Összefoglaló (8.fejezet).</a></li></ul></div><div class="kepkockak"><span>A film néhány jellemző képkockája: </span><div class="kep kozep sz550"> <img src="videok/film_video.jpg" alt="Néhány képkocka a filmből." style="width:100%; height:auto;" title="Néhány képkocka a filmből." /> </div></div><div class="filmtartalom"><p><span class="filmtartalom"><a name="tartalmi_1"  id="tartalmi_1">Tartalom:</a></span>A videón az összefoglaló hallgatható meg.</p><p class="videohtml"><a href="videok/osszefoglalo_8.html" name="teljesszov_1"  id="teljesszov_1"><span class="jaws">Összefoglaló (8.fejezet) című </span> Videó szöveges leírásának megtekintése HTML formátumban.</a> </p></div><div class="letoltes_doboz"><div id="player1"><p class="vid_flv"><a title="" href="videok/8_agk.flv"><span class="jaws">Összefoglaló (8.fejezet) című  </span>Videó letöltése Flash videó formátumban. <span class="filemeret"><span class="filemeret_cimke">A fájl mérete:</span>1.76<abbr title="megabájt">MB</abbr></span></a></p></div><script type="text/javascript">jwplayer("player1").setup({flashplayer: "player.swf",file:"videok/8_agk.flv",wmode: "opaque",width: "100%",skin: "css/skins/darkrv5.zip",controlbar: "over"});</script></div><div class="ido">A videó hossza: 0000 perc 26 másodperc.</div><div class="letoltes"><div class="letoltes_felirat"><span class="jaws">Összefoglaló (8.fejezet) című </span>Videó kisebb és nagyobb felbontású változatainak letöltése különböző formátumokban</div><a name="video_1"  id="video_1"></a><ul><li><a title="Összefoglaló (8.fejezet) című videó letöltése 3GP formátumban (kis változat)" href="videok/8_agk_kismeret.3gp"><span class="jaws">Összefoglaló (8.fejezet) című  videó kis felbontású változatának letöltése <span class="formatum">3GP</span> formátumban. </span><span class="meret_3gp_kis"><img src="css/3gp_kis.gif"  alt="Kis felbontású, 3GP változat letöltése" /><span class="jaws">Fájlméret:</span><span class="videomeret"><span class="meret_megabajt">0.3</span><span class="megabajt"><abbr title="megabájt">MB</abbr></span></span></span></a></li><li><a title="Összefoglaló (8.fejezet) című videó letöltése AVI (DivX) formátumban (kis változat)" href="videok/8_agk_kismeret.avi"><span class="jaws">Összefoglaló (8.fejezet) című videó kis felbontású változatának letöltése <span class="formatum">AVI (DivX)</span> formátumban.</span><span class="meret_avi_kis"><img src="css/avi_kis.gif"  alt="Kis felbontású, AVI változat letöltése" /><span class="jaws">Fájlméret:</span><span class="videomeret"><span class="meret_megabajt">1.44</span><span class="megabajt"><abbr title="megabájt">MB</abbr></span></span></span></a></li><li><a title="Összefoglaló (8.fejezet) című videó letöltése MP4 formátumban (kis változat)" href="videok/8_agk_kismeret.mp4"><span class="jaws">Összefoglaló (8.fejezet) című  videó kis felbontású változatának letöltése <span class="formatum">MP4</span> formátumban. </span><span class="meret_mp4_kis"><img src="css/mp4_kis.gif"  alt="Kis felbontású, MP4 változat letöltése" /><span class="jaws">Fájlméret:</span><span class="videomeret"><span class="meret_megabajt">1.45</span><span class="megabajt"><abbr title="megabájt">MB</abbr></span></span></span></a></li><li><a title="Összefoglaló (8.fejezet) című videó letöltése WMV formátumban (kis változat)" href="videok/8_agk_kismeret.wmv"><span class="jaws">Összefoglaló (8.fejezet) című videó kis felbontású változatának letöltése <span class="formatum">WMV</span> formátumban.</span><span class="meret_wmv_kis"><img src="css/wmv_kis.gif"  alt="Kis felbontású, WMV változat letöltése" /><span class="jaws">Fájlméret:</span><span class="videomeret"><span class="meret_megabajt">1.32</span><span class="megabajt"><abbr title="megabájt">MB</abbr></span></span></span></a></li></ul><a name="video_2"  id="video_2"></a><ul><li><a title="Összefoglaló (8.fejezet) című videó letöltése 3GP formátumban (nagy változat)" href="videok/8_agk.3gp"><span class="jaws">Összefoglaló (8.fejezet) című  videó nagy felbontású változatának letöltése <span class="formatum">3GP</span> formátumban. </span><span class="meret_3gp_nagy"><img src="css/3gp_nagy.gif"  alt="Nagyobb felbontású, 3GP változat letöltése" /><span class="jaws">Fájlméret:</span><span class="videomeret"><span class="meret_megabajt">1.03</span><span class="megabajt"><abbr title="megabájt">MB</abbr></span></span></span></a></li><li><a title="Összefoglaló (8.fejezet) című videó letöltése AVI (DivX) formátumban (nagy változat)" href="videok/8_agk.avi"><span class="jaws">Összefoglaló (8.fejezet) című videó nagy felbontású változatának letöltése <span class="formatum">AVI (DivX)</span> formátumban.</span><span class="meret_avi_nagy"><img src="css/avi_nagy.gif"  alt="Nagyobb felbontású, AVI változat letöltése" /><span class="jaws">Fájlméret:</span><span class="videomeret"><span class="meret_megabajt">3.46</span><span class="megabajt"><abbr title="megabájt">MB</abbr></span></span></span></a></li><li><a title="Összefoglaló (8.fejezet) című videó letöltése MP4 formátumban (nagy változat)" href="videok/8_agk.mp4"><span class="jaws">Összefoglaló (8.fejezet) című  videó nagy felbontású változatának letöltése <span class="formatum">MP4</span> formátumban. </span><span class="meret_mp4_nagy"><img src="css/mp4_nagy.gif"  alt="Nagyobb felbontású, MP4 változat letöltése" /><span class="jaws">Fájlméret:</span><span class="videomeret"><span class="meret_megabajt">3.54</span><span class="megabajt"><abbr title="megabájt">MB</abbr></span></span></span></a></li><li><a title="Összefoglaló (8.fejezet) című videó letöltése WMV formátumban (nagy változat)" href="videok/8_agk.wmv"><span class="jaws">Összefoglaló (8.fejezet) című videó nagy felbontású változatának letöltése <span class="formatum">WMV</span> formátumban.</span><span class="meret_wmv_nagy"><img src="css/wmv_nagy.gif"  alt="Nagyobb felbontású, WMV változat letöltése" /><span class="jaws">Fájlméret:</span><span class="videomeret"><span class="meret_megabajt">3.43</span><span class="megabajt"><abbr title="megabájt">MB</abbr></span></span></span></a></li></ul><div class="nemlebeg"></div></div><div class="nemlebeg"></div></div><!--END{fej8_video_1}--><p>A leckében bemutatjuk a <span class="fogalom" title="párhuzamosság">párhuzamosságból</span> és a közös erőforrás-használatból eredő problémákat és azok megoldásait. Bemutatjuk a System V <span class="fogalom" title="szemafor">szemaforpl</span> használatát néhány közismert feladat megoldása során.</p> 
    </div>
    <div class="kovetelmeny">
      <h2>Követelmény </h2>
      <p>A tanuló ismerje a <span class="fogalom" title="párhuzamosság">párhuzamosságból</span> és közös erőforrás-használatból eredő problémákat és azok megoldásait, a System V <span class="fogalom" title="szemafor">szemaforpl</span> használatát.</p> 
    </div>
    <div class="feladatok">
      <h2>Önállóan megoldható feladatok</h2>
      <ul><li>Az alvó borbély probléma. Egy borbélyüzletben van egy fodrászszék és &#132;n&#148; darab szék a várakozó vendégek részére. Ha nincs vendég az üzletben, akkor a borbély alszik. Ha vendég érkezik, és a borbély alszik, akkor felébreszti a borbélyt. Ha a vendég akkor érkezik, amikor a borbély ébren van és hajat vág, és van szabad várakozó szék, akkor leül és várakozik, ha nincs szabad szék, akkor elmegy. Oldjuk meg a feladatot System V szemaforok segítségével!</li></ul> 
    </div>
  </div>
  <div class="tartalommenu">
    <div class="tartalommenu_fejlec"><span id="lapteteje"><a  href="#teteje"><span class="gyorsb">F</span>el a lap tetejére</a></span><a name="fejezetek"   id="fejezetek">Tartalomjegyzék</a></div>
    <ul><li><a href="#hiv1">A párhuzamosság kezelése, szemaforok a gyakorlatban, alapvető megoldások</a><ul><li><a href="#hiv2">A párhuzamosságról általában</a></li><li><a href="#hiv3">A párhuzamosság kezelése: az osztott memória és a csővezeték használata</a></li><li><a href="#hiv4">A párhuzamosság kezelése: a szemaforok használata</a></li></ul></li></ul> 
  </div>
  <div class="tartalom"> <a name="tartalom" id="tartalom"></a> 
    <h1><a name="hiv1" id="hiv1" ></a>A párhuzamosság kezelése, szemaforok a gyakorlatban, alapvető megoldások</h1><h2><a name="hiv2" id="hiv2" ></a>A párhuzamosságról általában</h2><p>Néhány évvel ezelőtt, a processzorok fejlődése azt jelentette, hogy egyre kisebb méretű és egyre gyorsabb chipeket készítettek. A &#132;kisebb méretű&#148; processzorok alatt azt kell érteni, hogy a több mint 250 nm-es (nanométeres) gyártási technológiától eljutottak 32 nm-es (nanométeres) gyártási technológiáig. Ez azt jelenti, hogy egy ugyanakkora méretű szilíciumlapkára sokkal több dolog fér el. </p><p>A legszembetűnőbb változás a méret csökkenéséhez képest mégis a sebesség növekedése. Úgy tíz évvel ezelőtt egy 500&ndash;750 MHz-es (megahertzes) processzor már csúcskategóriának számított, míg manapság pedig 3&ndash;4 GHz-es (gigahertzes) processzorok számítanak a hétköznapi életben csúcskategóriának.</p><p>A processzorok fejlődése mostanában úgymond &#132;merőleges&#148; fogalom, hiszen egy központi egységben egyre több magot helyeznek el inkább, ahelyett hogy a processzorok sebességét növelnék, azaz változatlan processzorsebesség mellett egyre több magot építenek a processzorokba. Ennek az az oka, hogy a gyártó cégek elértek egy olyan fizikai-költségvetési határt, amit sokkal költségesebb &#132;legyőzni&#148;, mint minél több magot egymás mellé rakni. </p><p>Minden mag saját L1 cache-sel (belső gyorsítótárral) kialakított &ndash; ez nagyon fontos, amit a programozáskor is észben kell tartani &ndash; , de az L2 cache a legtöbb esetben már osztott a processzormagok között. </p><p>Az Intel Corporationnek van egy úgynevezett &#132;<span class="fogalom" title="HyperThread">HyperThread</span>&#148; nevű technológiája, ami az Intel processzorain belüli szálkezelő technológia. A &#132;<span class="fogalom" title="HyperThread">HyperThread</span>&#148; technológia azt csinálja, hogy egy processzormagban egyszerre két <span class="fogalom" title="szál">szálat</span> futtat, mindezt úgy, hogy az <span class="fogalom" title="operációs rendszer">operációs rendszer</span> felé az egy darab processzormagot két logikai processzornak mutatja. Ennél a technológiánál fontos, hogy ekkor az L1 cache is osztottá válik. A legújabb alkalmazások mind-mind használnak szálkezelést, és így egyszerre több <span class="fogalom" title="szál">szálon</span> futnak. A &#132;<span class="fogalom" title="HyperThread">HyperThread</span>&#148; technológiával ellátott processzorok képesek az ilyen több <span class="fogalom" title="szál">szálon</span> futó alkalmazásokat párhuzamosan feldolgozni; így gyorsabban lehet őket végrehajtani. Ebből adódnak a &#132;<span class="fogalom" title="HyperThread">HyperThread</span>&#148; előnyei mellett a hátrányai is, például: ha a processzormagon belül mindkét <span class="fogalom" title="szál">szál</span> ugyanazokat az egységeket akarja használni, akkor a <span class="fogalom" title="szál">szálak</span> végrehajtása jóval lassabbá válhat, mint a &#132;<span class="fogalom" title="HyperThread">HyperThread</span>&#148; technológia használata nélküli végrehajtás.</p><p>A processzorokban megjelenő egyre több processzormag miatt a programozási feladatok is nagyban megváltoztak, a párhuzamos, osztott végrehajtás felé törekednek a programozók a számításigényes feladatok gyorsabb végrehajtása érdekében. Az egymagos (illetve az egyprocesszoros) esetben a <span class="fogalom" title="párhuzamosság">párhuzamosság</span> teljesen mást jelentett korábban. Ha egynél több processzormag dolgozik, akkor a programok szinkronizálása másképpen működik, mert a több processzormag egymástól függetlenül dolgozik. Ezzel a problémával (miszerint a processzormagok egymáshoz képest függetlenül dolgoznak, és szinkronizálni kell őket) a programozónak nem kell foglalkoznia, mert ez már az <span class="fogalom" title="operációs rendszer">operációs rendszer</span> feladatai közé tartozik! </p><p>Mivel a processzorok fejlődése új irányt vett, a programoknak is ebbe az irányba kell fejlődniük: a <span class="fogalom" title="párhuzamosság">párhuzamosság</span> irányába. Ez új kérdést vet fel: a párhuzamos (más néven többszálú) programok szinkronizálása hogyan történjen meg, a közösen használt adatokat hogyan lehet a végrehajtási <span class="fogalom" title="szál">szálak</span> között cserélni, átadni? </p><p>Ezekhez a feladatokhoz az <span class="fogalom" title="operációs rendszer">operációs rendszerek</span> (egységesen) számos függvényt vagy szolgáltatást kínálnak: többek között a <span class="fogalom" title="szemafor">szemaforokat</span>, az osztott memóriát, a <span class="fogalom" title="csővezeték">csővezetéket</span> (pipeline).</p><p class="vissza"><a href="#fejezetek">Vissza a tartalom<span class="gyorsb">j</span>egyzékhez</a></p><h2><a name="hiv3" id="hiv3" ></a>A párhuzamosság kezelése: az osztott memória és a csővezeték használata</h2><p>Az <span class="fogalom" title="operációs rendszer">operációs rendszertől</span> lehet osztott memóriát igényelni a különböző folyamatok részére. Ez egy olyan tárterület, amit minden folyamat olvashat és írhat &ndash; ellenben a &#132;hagyományos&#148; memóriaterülethez csak a létrehozó folyamat fér hozzá. Az <span class="fogalom" title="osztott memória">osztott memória</span> bevált megoldás, ha nagy adatszerkezetet kell megosztani a többi folyamattal. A kisebb, valamint a szekvenciálisan feldolgozható adatokhoz használható más eszköz is, például a <span class="fogalom" title="csővezeték">csővezeték</span> (pipeline).</p><p>Az <span class="fogalom" title="osztott memória">osztott memória</span> ugyanúgy viselkedik egy adott folyamat szemszögéből, mint a &#132;hagyományos&#148; memória. Ugyanúgy kell írni és olvasni, csak az allokálása történik másképp. Az <span class="fogalom" title="osztott memória">osztott memória</span> azonban felvet egy fontos kérdést: ha az adat megváltozik a cache-ben, akkor mikor és miként íródik vissza a memóriába? A folyamatok ugyanis különböző processzormagon, vagy akár különböző processzoron is futhatnak, de ekkor az L1 cache nem osztott (és az L1 cache-ben, pontosabban az L1d cache-ben vannak kezdetben a módosítások. Erről az <span class="fogalom" title="operációs rendszer">operációs rendszer</span> gondoskodik, a cache konzisztens lesz, viszont ez plusz <span class="fogalom" title="erőforrás">erőforrásokat</span> igényel, amit a program tervezésekor nem szabad figyelmen kívül hagyni. </p><p>A <span class="fogalom" title="csővezeték">csővezeték</span> (pipeline) egy sor adatszerkezetet takar, aminek a végéhez lehet írni, és az elejéről lehet olvasni. A <span class="fogalom" title="csővezeték">csővezeték</span> esetén a cache-konzisztencia nem olyan kényes kérdés, mint az <span class="fogalom" title="osztott memória">osztott memória</span> esetén, mert a <span class="fogalom" title="csővezeték">csővezetékbe</span> beleírt adatot az író (a klasszikus felfogásban) nem olvashatja, és az olvasó pedig nem írhat a <span class="fogalom" title="csővezeték">csővezetékbe</span>. Ebből a kikötésből adódik, hogy a cache-konzisztencia megtartása nem olyan költséges, mint az <span class="fogalom" title="osztott memória">osztott memória</span> esetén. </p><p class="vissza"><a href="#fejezetek">Vissza a tartalom<span class="gyorsb">j</span>egyzékhez</a></p><h2><a name="hiv4" id="hiv4" ></a>A párhuzamosság kezelése: a szemaforok használata</h2><p>Egy többszálú program általában nem arról szól, hogy a <span class="fogalom" title="szál">szálak</span> egymástól függetlenek, és azt csinálnak, amit akarnak, hanem a <span class="fogalom" title="szál">szálakat</span> egy közös cél elérése érdekében hozzuk létre. Ezért lehetnek olyan memóriaterületek, amelyeket minden <span class="fogalom" title="szál">szál</span> olvashat, és írhat (<span class="fogalom" title="osztott memória">osztott memória</span> esetén) &ndash; ez azonban katasztrófához vezethet, ha nem teszünk ellene &#132;valamit&#148;. Ez a &#132;valami&#148; (a legtöbb esetben) pedig a <span class="fogalom" title="szemafor">szemafor</span> fogalmának a bevezetése. </p><p>A <span class="fogalom" title="szemafor">szemafor</span> egy változó vagy absztrakt adattípus, amit az osztott <span class="fogalom" title="erőforrás">erőforrásokhoz</span> való hozzáférések szabályozásához, kezeléséhez használnak a többszálú programozási környezetekben. A <span class="fogalom" title="szemafor">szemafor</span> megalkotása Edsger Wybe Dijkstra holland matematikus nevéhez fűződik. Dijkstra definiált a szemafortípusra egy P és egy V, valamint egy init nevű műveletet. Az init művelet beállítja a <span class="fogalom" title="szemafor">szemafor</span> értékét a megadott számra (n); ez pontosabban azt jelenti, hogy az <span class="fogalom" title="erőforrás">erőforrás</span> kihasználtsága maximálisan &#132;n&#148; lehet. A P művelettel várakozni lehet a <span class="fogalom" title="szemafor">szemaforra</span> (&#132;k&#148; egységre lehet várni, ha rendelkezésre áll &#132;k&#148; egység, akkor csökkenti a <span class="fogalom" title="szemafor">szemafor</span> értékét &#132;k&#148;-val). A V művelettel lehet felszabadítani a foglalt <span class="fogalom" title="erőforrás">erőforrást</span> (ami hozzáad a <span class="fogalom" title="szemafor">szemafor</span> értékéhez &#132;k&rsquo;&#148;-t). Ha az &#132;n&#148; értéke eggyel egyenlő (azaz n = 1), akkor bináris <span class="fogalom" title="szemafor">szemafornak</span>, vagy más néven <span class="fogalom" title="mutex">mutexnek</span> (mutual exclusion &ndash; kölcsönös kizárás) nevezzük. A hétköznapi használat során a P műveletet szokták &#132;Down&#148;-nak, a V műveletet pedig &#132;Up&#148;-nak is hívni. </p><p class="vissza"><a href="#fejezetek">Vissza a tartalom<span class="gyorsb">j</span>egyzékhez</a></p> 
  </div>
</div>
<div class="utmutato_also">
  <div class="utm_hivatkozasok_also"><a class="oldalteteje" accesskey="f" href="#teteje"><span class="gyorsb">F</span>el a lap tetejére</a>
  <a class="elozotanlap" id="navialsoelozo" href="teszt/lecke7/teszt.html"><img src="navi/ikon_elozolap.gif" alt="Ugrás a tananyag előző oldalára" title="Ugrás a tananyag előző oldalára" width="36" height="36" /></a>
  <a id='navialsokov' class="kovetktanlap" href="lecke8_lap2.html"><img src="navi/ikon_kovetklap.gif" alt="Ugrás a tananyag következő oldalára" title="Ugrás a tananyag következő oldalára" width="36" height="36"/></a>
  </div>
</div>
<div class="ki_stilus"></div>
<div class="impresszum">
  <table class="uszt">
    <tr>
      <td><div class="imp_eltetatklogo"><img alt="ELTE és ELTE TáTK logó" src="css/arculat/elte_plus_tatk.png" style="width:100%;height:auto;" /></div>
        <div class="imp_elteiklogo"><img alt="ELTE és ELTE IK logó" src="css/arculat/elte_plus_ik.png" style="width:100%;height:auto;" /></div></td>
      <td><div class="imp_uszt"><img alt="Új Széchenyi terv" src="css/arculat/USZT_logo_cmyk.jpg" style="width:100%;height:auto;" /></div></td>
      <td><div class="imp_eu"><img alt="A projekt az Európai Unió támogatásával, az Európai Szociális Alap társfinanszirozásával valósul meg." title="A projekt az Európai Unió támogatásával, az Európai Szociális Alap társfinanszirozásával valósul meg." src="css/arculat/ESZA.png" style="width:100%;height:auto;"/></div></td>
    </tr>
  </table>
</div>
</body>
</html>
